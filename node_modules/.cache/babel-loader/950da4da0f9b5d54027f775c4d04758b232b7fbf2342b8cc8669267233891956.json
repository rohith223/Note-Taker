{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { env } from \"../env\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useEffect } from \"react\";\nexport const CheckLoginComponent = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    (async () => {\n      let token = sessionStorage.getItem(\"token\");\n      try {\n        if (token) {\n          let checkData = await axios.get(`${env.REACT_APP_API}/users/validate`, {\n            headers: {\n              authorization: `Bearer ${token}`\n            }\n          }).then(res => {\n            if (res.status !== 200) {\n              console.log(res);\n              toast.error(res.data.message, {\n                autoClose: 2000\n              });\n              setTimeout(() => {\n                navigate(\"/\");\n              }, 3000);\n            }\n            // return res;\n          }).catch(error => {\n            toast.error(\"Only employee can access\", {\n              autoClose: 2000\n            });\n            setTimeout(() => {\n              navigate(\"/\");\n            }, 3000);\n          });\n\n          // return checkData;\n        } else {\n          navigate(\"/\");\n        }\n      } catch (error) {\n        navigate(\"/\");\n      }\n    })();\n  }, []);\n};\n_s(CheckLoginComponent, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = CheckLoginComponent;\nvar _c;\n$RefreshReg$(_c, \"CheckLoginComponent\");","map":{"version":3,"names":["axios","env","useNavigate","toast","useEffect","CheckLoginComponent","_s","navigate","token","sessionStorage","getItem","checkData","get","REACT_APP_API","headers","authorization","then","res","status","console","log","error","data","message","autoClose","setTimeout","catch","_c","$RefreshReg$"],"sources":["C:/Users/91824/Desktop/frontend/src/Service/SecurityService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { env } from \"../env\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport const CheckLoginComponent = () => {\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    (async () => {\r\n      let token = sessionStorage.getItem(\"token\");\r\n      try {\r\n        if (token) {\r\n          let checkData = await axios\r\n            .get(`${env.REACT_APP_API}/users/validate`, {\r\n              headers: {\r\n                authorization: `Bearer ${token}`,\r\n              },\r\n            })\r\n            .then((res) => {\r\n              if (res.status !== 200) {\r\n                console.log(res);\r\n                toast.error(res.data.message, {\r\n                  autoClose: 2000,\r\n                });\r\n                setTimeout(() => {\r\n                  navigate(\"/\");\r\n                }, 3000);\r\n              }\r\n              // return res;\r\n            })\r\n            .catch((error) => {\r\n              toast.error(\"Only employee can access\", {\r\n                autoClose: 2000,\r\n              });\r\n              setTimeout(() => {\r\n                navigate(\"/\");\r\n              }, 3000);\r\n            });\r\n\r\n          // return checkData;\r\n        } else {\r\n          navigate(\"/\");\r\n        }\r\n      } catch (error) {\r\n        navigate(\"/\");\r\n      }\r\n    })();\r\n  }, []);\r\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,QAAQ;AAC5B,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,SAAS,QAAQ,OAAO;AAEjC,OAAO,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9BE,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,IAAII,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI;QACF,IAAIF,KAAK,EAAE;UACT,IAAIG,SAAS,GAAG,MAAMX,KAAK,CACxBY,GAAG,CAAE,GAAEX,GAAG,CAACY,aAAc,iBAAgB,EAAE;YAC1CC,OAAO,EAAE;cACPC,aAAa,EAAG,UAASP,KAAM;YACjC;UACF,CAAC,CAAC,CACDQ,IAAI,CAAEC,GAAG,IAAK;YACb,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;cACtBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;cAChBd,KAAK,CAACkB,KAAK,CAACJ,GAAG,CAACK,IAAI,CAACC,OAAO,EAAE;gBAC5BC,SAAS,EAAE;cACb,CAAC,CAAC;cACFC,UAAU,CAAC,MAAM;gBACflB,QAAQ,CAAC,GAAG,CAAC;cACf,CAAC,EAAE,IAAI,CAAC;YACV;YACA;UACF,CAAC,CAAC,CACDmB,KAAK,CAAEL,KAAK,IAAK;YAChBlB,KAAK,CAACkB,KAAK,CAAC,0BAA0B,EAAE;cACtCG,SAAS,EAAE;YACb,CAAC,CAAC;YACFC,UAAU,CAAC,MAAM;cACflB,QAAQ,CAAC,GAAG,CAAC;YACf,CAAC,EAAE,IAAI,CAAC;UACV,CAAC,CAAC;;UAEJ;QACF,CAAC,MAAM;UACLA,QAAQ,CAAC,GAAG,CAAC;QACf;MACF,CAAC,CAAC,OAAOc,KAAK,EAAE;QACdd,QAAQ,CAAC,GAAG,CAAC;MACf;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAACD,EAAA,CA3CWD,mBAAmB;EAAA,QACbH,WAAW;AAAA;AAAAyB,EAAA,GADjBtB,mBAAmB;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}